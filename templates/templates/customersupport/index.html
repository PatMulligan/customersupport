{% extends "base.html" %} {% from "macros.jinja" import window_vars with context
%} {% block page %}
<div class="row q-col-gutter-md">
    <div class="col-12">
      <direct-messages
        ref="directMessagesRef"
        :inkey="g.user.wallets[0].inkey"
        :adminkey="g.user.wallets[0].adminkey"
        :active-chat-customer="activeChatCustomer"
        :merchant-id="merchant.id"
        @customer-selected="filterOrdersForCustomer"
        @order-selected="showOrderDetails"
      >
      </direct-messages>
    </div>
</div>
{% endblock %} {% block scripts %} {{ window_vars(user) }}

<style scoped>
  .chat-container {
    position: relative;
    display: grid;
    grid-template-rows: 1fr auto;
    height: 50vh;
  }

  .chat-box {
    padding: 1rem;
    overflow-y: auto;
    margin-left: auto;
    width: 100%;
  }
</style>
<script src="{{ url_for('customersupport_static', path='components/direct-messages/direct-messages.js') }}"></script>
<script src="{{ url_for('customersupport_static', path='js/nostr.bundle.js') }}"></script>
<script src="{{ url_for('customersupport_static', path='js/utils.js') }}"></script>
<script src="{{ url_for('customersupport_static', path='js/index.js') }}"></script>
{% endblock %}
